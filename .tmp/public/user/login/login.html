
<section>
  <h2>Anmelden</h2>
  <form novalidate name="loginForm" role="form" ng-submit="wbt.authService.login(login.loginData)" class="form-horizontal">
    <div data-ng-class="{'has-success': loginForm._id.$valid, 'has-error': loginForm._id.$invalid&&loginForm._id.$touched}" class="form-group">
      <label class="col-xs-2 form-label">username</label>
      <div class="col-xs-10">
        <input type="text" name="_id" class="form-control" placeholder="username" data-ng-model="login.loginData._id" required maxlength="20" user-exists data-ng-model-options="{debounce: 500}"><span aria-live="assertive" ng-show="loginForm._id.$touched" class="help-block"><span ng-if="loginForm._id.$valid">Dieser User existiert.</span></span><span ng-show="loginForm._id.$touched" role="status" class="help-block"><span ng-if="loginForm._id.$pending">Prüfe Verfügbarkeit</span></span><span ng-messages="loginForm._id.$error" ng-show="loginForm._id.$touched" class="help-block"><span ng-message="required">Sie müssen einen Usernamen eingeben.</span><span ng-message="userExists">Dieser User existiert nicht.</span></span>
      </div>
    </div>
    <div data-ng-class="{'has-success': loginForm.password.$valid, 'has-error': loginForm.password.$invalid&&loginForm.password.$touched}" class="form-group">
      <label class="col-xs-2 form-label">Passwort</label>
      <div class="col-xs-10">
        <input type="password" name="password" class="form-control" ng-model="login.loginData.password" required minlength="8" placeholder="Passwort">
      </div>
    </div>
    <div class="form-group">
      <div class="col-xs-2-offset col-xs-10">
        <div class="btn-group">
          <input type="submit" data-ng-class="{'btn-primary': loginForm.$valid, 'btn-danger': loginForm.$invalid}" value="anmelden" class="btn">
          <input type="button" data-ng-click="login.forgot=!login.forgot" value="Passwort vergessen" aria-expanded="{{login.forgot}}" aria-controls="forgot" class="btn btn-default">
        </div>
      </div>
    </div>
  </form>
</section>
<section id="forgot" data-collapse="!login.forgot">
  <h2>Passwort vergessen</h2>
  <p>Wenn Sie Ihre E-Mail-Adresse hinterlegt haben, können Sie hier Ihr Passwort zurücksetzen. Geben Sie hierzu diese Adresse unten ein. Sie bekommen dann eine E-Mail mit einem Link zugesendet. Wenn Sie ihn aufrufen, sind Sie hier wieder angemeldet und können Ihr Passwort in Ihrem Profil ändern. Der Link funktioniert für eine Stunde und Ihr altes Passwort bleibt so lange gültig, bis Sie ein neues festgelegt haben.</p>
  <form novalidate name="forgotForm" ng-submit="login.forgot(login.forgotData)" role="form" class="form-horizontal">
    <div data-ng-class="{'has-success': forgotForm.email.$valid, 'has-error': forgotForm.email.$invalid&&forgotForm.email.$touched}" class="form-group">
      <label class="col-xs-2 form-label">E-Mail-Adresse</label>
      <div class="col-xs-10">
        <input type="email" name="email" class="form-control" placeholder="email" ng-model="login.forgotData.email" required>
      </div>
    </div>
    <div class="form-group">
      <div class="col-xs-2-offset col-xs-10">
        <input type="submit" value="E-Mail versenden" data-ng-class="{'btn-primary': forgotForm.$valid,'btn-danger': forgotForm.$invalid}" class="btn">
      </div>
    </div>
  </form>
</section>